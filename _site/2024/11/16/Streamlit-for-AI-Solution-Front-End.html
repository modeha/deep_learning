<!DOCTYPE html>
<html lang="en"><head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Deep Learning" /></head>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<style>@import url(/public/css/syntax/monokai.css);</style>
  <title>Deep Learning</title>
  <!-- <link href="/public/css/bootstrap.min.css" rel="stylesheet"> -->

  <link href="/public/css/style.css" rel="stylesheet">
  <body>
  	<div class="container"> 
		<div class="sidebar">
			<div class="sidebar-item sidebar-header">
	<div class='sidebar-brand'>
		<a href="/about/">Deep Learning</a>
	</div>
	<p class="lead">A blog exploring deep learning, AI, and data science topics by Mohsen Dehghani.</p></div>

<div class="sidebar-item sidebar-nav">
	<ul class="nav">
      <li class="nav-title">Pages</li>
	  <li>
	  	<a class="nav-item" href="/">Articles</a>
	  </li>
	  
	  
	    
	  
	    
	      
	        <li>
	        	<a class="nav-item" href="/about/">
	            	About
	            </a>
	        </li>
	      
	    
	  
	    
	      
	    
	  
	    
	  
	    
	  
	    
	  
	</ul>
</div>

<div class="sidebar-item sidebar-nav">
  	<ul class="nav">
			<li class="nav-title">Categories</li>
	    
	    <li>
	    	<a class="nav-item" href="/category/#Update">
				<span class="name">Update</span>
				<span class="badge">13</span>
	    	</a>
 		</li>
	    
	    <li>
	    	<a class="nav-item" href="/category/#update">
				<span class="name">update</span>
				<span class="badge">6</span>
	    	</a>
 		</li>
	    
	    <li>
	    	<a class="nav-item" href="/category/#Jekyll">
				<span class="name">Jekyll</span>
				<span class="badge">1</span>
	    	</a>
 		</li>
	    
	  </nav>
	</ul>
</div>

<div class="sidebar-item sidebar-footer">
	<p>Powered by <a href="https://github.com/jekyll/jekyll">Jekyll</a></p>
</div>
		</div>
		<div class="content">
			<article class="post">
	<header class="post-header">
		<div class="post-title"> 
			Streamlit for AI Solution Front-End
		</div>
		<time class="post-date dt-published" datetime="2024-11-16T07:24:00-05:00" itemprop="datePublished">2024/11/16
		</time>		
	</header>

	<div class="post-content">
		<h3 id="section-3-streamlit-for-ai-solution-front-end"><strong>Section 3: Streamlit for AI Solution Front-End</strong></h3>

<hr />

<h4 id="31-introduction-to-streamlit"><strong>3.1 Introduction to Streamlit</strong></h4>

<ul>
  <li><strong>What is Streamlit?</strong>
    <ul>
      <li>Streamlit is an open-source Python library designed for creating and sharing custom web applications for machine learning and data science projects. It allows developers to quickly build user-friendly web interfaces without requiring extensive web development knowledge.</li>
      <li>The simplicity of Streamlit, combined with its interactivity, makes it ideal for deploying AI models and data visualization dashboards for non-technical users and stakeholders.</li>
    </ul>
  </li>
  <li><strong>Benefits of Using Streamlit for AI Applications</strong>
    <ul>
      <li><strong>Rapid Prototyping</strong>: Streamlit’s easy syntax enables fast application development, ideal for showcasing AI models in their early stages.</li>
      <li><strong>Interactivity</strong>: Streamlit’s widgets (e.g., sliders, buttons, file uploaders) facilitate interactive experiences where users can input data, trigger predictions, and visualize outputs in real time.</li>
      <li><strong>No Web Development Required</strong>: Streamlit abstracts complex web development tasks, allowing AI and data science practitioners to focus on the logic rather than front-end coding.</li>
    </ul>
  </li>
</ul>

<hr />

<h4 id="32-setting-up-a-streamlit-environment"><strong>3.2 Setting Up a Streamlit Environment</strong></h4>

<ul>
  <li><strong>Installing Streamlit</strong>
    <ul>
      <li>Streamlit can be installed via pip:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>streamlit
</code></pre></div>        </div>
      </li>
      <li>Once installed, verify the installation by running:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>streamlit hello
</code></pre></div>        </div>
      </li>
      <li>This command will launch Streamlit’s built-in demo application in your browser, confirming that the installation is successful.</li>
    </ul>
  </li>
  <li><strong>Starting a Streamlit Application</strong>
    <ul>
      <li>Create a Python file, such as <code class="highlighter-rouge">app.py</code>, and add basic Streamlit code to initialize your first app:
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">streamlit</span> <span class="k">as</span> <span class="n">st</span>

<span class="n">st</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"AI Model Deployment"</span><span class="p">)</span>
<span class="n">st</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"This is a simple Streamlit application."</span><span class="p">)</span>
</code></pre></div>        </div>
      </li>
      <li>Run the application from the terminal:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>streamlit run app.py
</code></pre></div>        </div>
      </li>
      <li>This command launches a local server, and the app will be accessible at <code class="highlighter-rouge">http://localhost:8501</code>.</li>
    </ul>
  </li>
</ul>

<hr />

<h4 id="33-building-an-interactive-streamlit-application-for-ai-models"><strong>3.3 Building an Interactive Streamlit Application for AI Models</strong></h4>

<ul>
  <li><strong>Basic Streamlit Components for AI Applications</strong>
    <ul>
      <li><strong>Text and Display Elements</strong>: Use <code class="highlighter-rouge">st.title()</code>, <code class="highlighter-rouge">st.header()</code>, <code class="highlighter-rouge">st.write()</code>, and <code class="highlighter-rouge">st.markdown()</code> to add text elements and provide context to your app.</li>
      <li><strong>Input Widgets</strong>:
        <ul>
          <li><strong>Slider</strong>: Allows users to adjust numerical inputs (e.g., for model parameters).
            <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">value</span> <span class="o">=</span> <span class="n">st</span><span class="p">.</span><span class="n">slider</span><span class="p">(</span><span class="s">"Select a value"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</code></pre></div>            </div>
          </li>
          <li><strong>File Uploader</strong>: Lets users upload files, useful for feeding data or images into the AI model.
            <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">uploaded_file</span> <span class="o">=</span> <span class="n">st</span><span class="p">.</span><span class="n">file_uploader</span><span class="p">(</span><span class="s">"Choose a file"</span><span class="p">)</span>
</code></pre></div>            </div>
          </li>
          <li><strong>Buttons</strong>: Triggers specific actions, such as running predictions or resetting parameters.
            <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">st</span><span class="p">.</span><span class="n">button</span><span class="p">(</span><span class="s">"Run Model"</span><span class="p">):</span>
    <span class="n">st</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"Model running..."</span><span class="p">)</span>
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Creating a Basic AI Prediction App</strong>
    <ul>
      <li>For example, consider a machine learning model trained to classify images. Below is a basic Streamlit app structure for deploying this model:
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">streamlit</span> <span class="k">as</span> <span class="n">st</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="n">tf</span>

<span class="c1"># Load pre-trained model
</span><span class="n">model</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">keras</span><span class="p">.</span><span class="n">models</span><span class="p">.</span><span class="n">load_model</span><span class="p">(</span><span class="s">"my_model.h5"</span><span class="p">)</span>

<span class="c1"># Title and description
</span><span class="n">st</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Image Classification Model"</span><span class="p">)</span>
<span class="n">st</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"Upload an image to classify."</span><span class="p">)</span>

<span class="c1"># File uploader
</span><span class="n">uploaded_file</span> <span class="o">=</span> <span class="n">st</span><span class="p">.</span><span class="n">file_uploader</span><span class="p">(</span><span class="s">"Choose an image..."</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">"jpg"</span><span class="p">)</span>
<span class="k">if</span> <span class="n">uploaded_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
    <span class="c1"># Display the uploaded image
</span>    <span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="n">uploaded_file</span><span class="p">)</span>
    <span class="n">st</span><span class="p">.</span><span class="n">image</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">caption</span><span class="o">=</span><span class="s">"Uploaded Image"</span><span class="p">,</span> <span class="n">use_column_width</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="c1"># Preprocess and predict
</span>    <span class="k">if</span> <span class="n">st</span><span class="p">.</span><span class="n">button</span><span class="p">(</span><span class="s">"Classify Image"</span><span class="p">):</span>
        <span class="c1"># Preprocess the image for model input
</span>        <span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="p">.</span><span class="n">resize</span><span class="p">((</span><span class="mi">224</span><span class="p">,</span> <span class="mi">224</span><span class="p">))</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">tf</span><span class="p">.</span><span class="n">keras</span><span class="p">.</span><span class="n">preprocessing</span><span class="p">.</span><span class="n">image</span><span class="p">.</span><span class="n">img_to_array</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">image</span> <span class="o">/</span> <span class="mf">255.0</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="p">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

        <span class="c1"># Predict
</span>        <span class="n">prediction</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
        <span class="n">st</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s">"Predicted class: </span><span class="si">{</span><span class="n">prediction</span><span class="p">.</span><span class="n">argmax</span><span class="p">()</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>Adding Visualization and Analysis Features</strong>
    <ul>
      <li>Streamlit integrates well with data visualization libraries like Matplotlib, Plotly, and Altair, which can be embedded directly into the app for additional insights.</li>
      <li>For example, if your model outputs probabilities for different classes, you could add a bar chart visualization:
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># Display prediction probabilities
</span><span class="k">if</span> <span class="n">prediction</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">prediction</span><span class="p">[</span><span class="mi">0</span><span class="p">])),</span> <span class="n">prediction</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st</span><span class="p">.</span><span class="n">pyplot</span><span class="p">(</span><span class="n">plt</span><span class="p">)</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h4 id="34-deploying-streamlit-applications-locally-and-on-the-cloud"><strong>3.4 Deploying Streamlit Applications Locally and on the Cloud</strong></h4>

<ul>
  <li><strong>Local Deployment with Docker</strong>
    <ul>
      <li>Dockerizing Streamlit apps is a common way to ensure consistent environments for deployment.</li>
      <li>Example Dockerfile for a Streamlit app:
        <div class="language-Dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> python:3.8</span>

<span class="c"># Set working directory</span>
<span class="k">WORKDIR</span><span class="s"> /app</span>

<span class="c"># Copy local files to container</span>
<span class="k">COPY</span><span class="s"> . /app</span>

<span class="c"># Install dependencies</span>
<span class="k">RUN </span>pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt

<span class="c"># Expose Streamlit default port</span>
<span class="k">EXPOSE</span><span class="s"> 8501</span>

<span class="c"># Run Streamlit</span>
<span class="k">CMD</span><span class="s"> ["streamlit", "run", "app.py", "--server.port=8501", "--server.address=0.0.0.0"]</span>
</code></pre></div>        </div>
      </li>
      <li>Build and run the Docker container:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">-t</span> my-streamlit-app <span class="nb">.</span>
docker run <span class="nt">-p</span> 8501:8501 my-streamlit-app
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>Cloud Deployment on Azure App Service</strong>
    <ul>
      <li>Azure App Service supports containerized applications, making it ideal for deploying Dockerized Streamlit apps.
        <ul>
          <li>First, push your Docker image to Azure Container Registry (as described in section 2).</li>
          <li>Then, use the Azure portal or CLI to deploy the container on Azure App Service.</li>
        </ul>
      </li>
      <li><strong>Example CLI Commands for App Service Deployment</strong>:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>az webapp create <span class="nt">--resource-group</span> myResourceGroup <span class="nt">--plan</span> myAppServicePlan <span class="nt">--name</span> myStreamlitApp <span class="nt">--deployment-container-image-name</span> myContainerRegistry.azurecr.io/my-streamlit-app
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>Deployment on Streamlit Cloud</strong>
    <ul>
      <li>Streamlit Cloud (formerly Streamlit Sharing) is a quick way to deploy Streamlit apps online. It allows you to connect your GitHub repository directly to Streamlit Cloud, where the app is automatically built and deployed.</li>
      <li><strong>Steps to Deploy</strong>:
        <ul>
          <li>Push your Streamlit app to a GitHub repository.</li>
          <li>Go to <a href="https://share.streamlit.io/">Streamlit Cloud</a>, sign in, and connect your GitHub account.</li>
          <li>Select your repository, specify the main Python file (e.g., <code class="highlighter-rouge">app.py</code>), and deploy.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h4 id="35-best-practices-in-building-interactive-ai-apps-with-streamlit"><strong>3.5 Best Practices in Building Interactive AI Apps with Streamlit</strong></h4>

<ul>
  <li><strong>User Experience (UX) Considerations</strong>
    <ul>
      <li>Ensure the layout is simple and user-friendly by using <code class="highlighter-rouge">st.sidebar</code> for parameters, minimizing clutter on the main screen.</li>
      <li>Add tooltips and descriptions to guide users unfamiliar with AI models on how to interact with the app.</li>
    </ul>
  </li>
  <li><strong>Efficient Data Processing</strong>
    <ul>
      <li>For heavy computation, use caching to reduce processing time and improve performance. Streamlit provides <code class="highlighter-rouge">st.cache</code> to store results from expensive computations.
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">st</span><span class="p">.</span><span class="n">cache</span>
<span class="k">def</span> <span class="nf">expensive_function</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="c1"># Compute something costly
</span>    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>        </div>
      </li>
      <li>Caching is particularly useful when loading large models or processing datasets that don’t change often.</li>
    </ul>
  </li>
  <li><strong>Security Considerations</strong>
    <ul>
      <li>Avoid hardcoding sensitive information like API keys in the app code. Use environment variables to manage sensitive data securely.</li>
      <li>For apps requiring authentication, consider adding basic authentication or deploying behind an authentication layer, especially if the app is accessible over the internet.</li>
    </ul>
  </li>
  <li><strong>Testing and Debugging Streamlit Apps</strong>
    <ul>
      <li>Use unit testing for data processing functions and model prediction functions to ensure they work as expected.</li>
      <li>Test the app across different devices and screen sizes to ensure it is responsive and accessible.</li>
    </ul>
  </li>
</ul>

<hr />

<h4 id="36-real-world-use-cases-of-streamlit-in-ai-deployments"><strong>3.6 Real-World Use Cases of Streamlit in AI Deployments</strong></h4>

<ul>
  <li><strong>Model Explanations and Interpretability Dashboards</strong>
    <ul>
      <li>Streamlit can be used to build interpretability dashboards for explaining model predictions to stakeholders. For example, displaying feature importances for a machine learning model in a user-friendly interface.</li>
    </ul>
  </li>
  <li><strong>Data Exploration and Visualization Tools</strong>
    <ul>
      <li>For data science teams, Streamlit can serve as a rapid data exploration tool, where team members can interactively filter data, visualize trends, and test model hypotheses.</li>
    </ul>
  </li>
  <li><strong>Customer-Facing AI Solutions</strong>
    <ul>
      <li>Streamlit apps can act as customer-facing tools for predictive services, such as forecasting, recommendation engines, or sentiment analysis. The simple UI design allows non-technical users to leverage the power of AI models without needing technical training.</li>
    </ul>
  </li>
</ul>

<hr />

<p>This section provides an in-depth look at Streamlit as a front-end solution for AI applications. By using Streamlit’s interactivity and ease of deployment, you can quickly create, deploy, and share AI applications that offer meaningful insights and a great user experience. Streamlit’s compatibility with Docker and cloud platforms further enables seamless deployment in production environments.</p>

<hr />

	</div>
</article>
		</div>
	</div>
  </body>
</html>